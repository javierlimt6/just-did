<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JustDid</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div id="confetti-container"></div>

    <!-- Main Landing View -->
    <div id="landing-view" class="view">
        <div class="header">
            <h1>JustDid</h1>
            <p class="subtitle">What will you accomplish next?</p>
        </div>

        <div class="timer-section">
            <label for="timer-duration-input" class="timer-label">Set your focus time:</label>
            <div class="timer-input-container">
                <input type="number" id="timer-duration-input" value="15" class="timer-input">
                <span class="timer-unit">minutes</span>
            </div>
        </div>

        <div class="button-group">
            <button id="start-timer-btn" class="btn btn-primary">
                <span class="icon">‚ñ∂Ô∏è</span>
                Start Focus Timer
            </button>
            <button id="show-history-btn" class="btn btn-secondary">
                <span class="icon">üìã</span>
                View Log History
            </button>

        </div>
    </div>

    <!-- Timer Running View -->
    <div id="timer-view" class="view hidden">
        <div class="header">
            <h1>JustDid</h1>
            <p class="subtitle">Come back later!</p>
        </div>

        <div class="timer-display">
            <div class="time-remaining">
                <span id="remaining-time">15:00</span>
            </div>
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
        </div>

        <div class="button-group">
            <button id="stop-timer-btn" class="btn btn-danger">
                <span class="icon">‚èπÔ∏è</span>
                Stop Timer
            </button>
        </div>
    </div>

    <!-- Task Entry View -->
    <div id="task-entry-view" class="view hidden">
        <div class="header">
            <h1>üéâ Time's Up!</h1>
            <p class="subtitle">What did you just accomplish?</p>
        </div>

        <div class="task-entry-section">
            <div class="input-group">
                <textarea id="task-input" placeholder="Describe what you just did..." rows="3"></textarea>
                <button id="ai-suggest-btn" class="btn-suggest" title="Generate summary from browser history">
                    <span class="icon">‚ú®</span>
                </button>
            </div>

            <div id="browser-history-section" class="history-section">
                <h3>Recent Browser Activity</h3>
                <div id="browser-history-list" class="history-list">
                    <!-- Browser history will be populated here -->
                </div>
            </div>
        </div>

        <div class="button-group">
            <button id="record-and-history-btn" class="btn btn-secondary">
                <span class="icon">üíæ</span>
                Record & View History
            </button>
            <button id="record-and-continue-btn" class="btn btn-primary">
                <span class="icon">‚û°Ô∏è</span>
                Record & Continue
            </button>
        </div>
    </div>

    <!-- History View -->
    <div id="history-view" class="view hidden">
        <div class="header">
            <h1>Activity Log</h1>
            <p class="subtitle">Your accomplishments today</p>
            <button id="back-btn" class="btn-back">‚Üê Back</button>
        </div>

        <div class="export-section">
            <div class="export-buttons">
                <button id="export-json-btn" class="btn btn-export">JSON</button>
                <button id="export-csv-btn" class="btn btn-export">CSV</button>
                <button id="export-pdf-btn" class="btn btn-export">TEXT</button>
            </div>
        </div>

        <div id="history-list" class="activity-log">
            <!-- Activity entries will be populated here -->
        </div>

        <div id="empty-history" class="empty-state hidden">
            <p>No activities logged yet. Start your first focus session!</p>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>